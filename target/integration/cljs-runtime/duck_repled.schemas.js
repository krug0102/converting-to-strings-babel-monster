goog.provide('duck_repled.schemas');
duck_repled.schemas.pos = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cat","cat",-1457810207),cljs.core.int_QMARK_,cljs.core.int_QMARK_], null);
duck_repled.schemas.range = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cat","cat",-1457810207),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"schema","schema",-1582001791),duck_repled.schemas.pos], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"schema","schema",-1582001791),duck_repled.schemas.pos], null)], null);
duck_repled.schemas.editor_data = new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"map","map",1371690461),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"contents","contents",-1567174023),cljs.core.string_QMARK_], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"filename","filename",-1428840783),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"optional","optional",2053951509),true], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"maybe","maybe",-314397560),cljs.core.string_QMARK_], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"range","range",1639692286),duck_repled.schemas.range], null)], null);
duck_repled.schemas.range_and_content = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cat","cat",-1457810207),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"schema","schema",-1582001791),duck_repled.schemas.range], null),cljs.core.string_QMARK_], null);
duck_repled.schemas.top_blocks = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"vector","vector",1902966158),duck_repled.schemas.range_and_content], null);
duck_repled.schemas.contents = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"map","map",1371690461),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("text","contents","text/contents",-1566533716),cljs.core.string_QMARK_], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("text","range","text/range",1644551777),duck_repled.schemas.range], null)], null);
duck_repled.schemas.registry = cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("definition","source","definition/source",513279520),new cljs.core.Keyword("text","range","text/range",1644551777),new cljs.core.Keyword("var","doc","var/doc",1913167972),new cljs.core.Keyword("ex","filename","ex/filename",-1428836124),new cljs.core.Keyword("definition","filename","definition/filename",1721264452),new cljs.core.Keyword("repl","result","repl/result",1421065572),new cljs.core.Keyword("file","contents","file/contents",-1566119931),new cljs.core.Keyword("editor","filename","editor/filename",1561957414),new cljs.core.Keyword("text","selection","text/selection",972475430),new cljs.core.Keyword("repl","code","repl/code",-1648869881),new cljs.core.Keyword("repl","error","repl/error",-985152889),new cljs.core.Keyword("repl","kind","repl/kind",-721172504),new cljs.core.Keyword("definition","row","definition/row",275880138),new cljs.core.Keyword("ex","row","ex/row",-570134166),new cljs.core.Keyword("repl","clj","repl/clj",-655079317),new cljs.core.Keyword("repl","namespace","repl/namespace",-380958069),new cljs.core.Keyword("config","repl-kind","config/repl-kind",1937588875),new cljs.core.Keyword("text","current-var","text/current-var",1432933099),new cljs.core.Keyword("text","top-blocks","text/top-blocks",-1746652277),new cljs.core.Keyword("editor","contents","editor/contents",-394611860),new cljs.core.Keyword("text","contents","text/contents",-1566533716),new cljs.core.Keyword("definition","col","definition/col",-811501491),new cljs.core.Keyword("definition","contents","definition/contents",-151279794),new cljs.core.Keyword("repl","evaluator","repl/evaluator",693013328),new cljs.core.Keyword("ex","function-name","ex/function-name",621896913),new cljs.core.Keyword("var","fqn","var/fqn",905054513),new cljs.core.Keyword("text","ns","text/ns",453543537),new cljs.core.Keyword("text","top-block","text/top-block",127527825),new cljs.core.Keyword("editor","data","editor/data",-1539989548),new cljs.core.Keyword("config","project-paths","config/project-paths",1302768596),new cljs.core.Keyword("file","filename","file/filename",-1425692619),new cljs.core.Keyword("text","block","text/block",660870389),new cljs.core.Keyword("file","exists?","file/exists?",1411240824),new cljs.core.Keyword("config","eval-as","config/eval-as",-937334597),new cljs.core.Keyword("var","meta","var/meta",1499588507),new cljs.core.Keyword("repl","evaluators","repl/evaluators",84539740),new cljs.core.Keyword("file","path","file/path",-191335748),new cljs.core.Keyword("repl","template","repl/template",-731412419),new cljs.core.Keyword(null,"map","map",1371690461)],[malli.core.schema.cljs$core$IFn$_invoke$arity$1(duck_repled.schemas.contents),malli.core.schema.cljs$core$IFn$_invoke$arity$1(duck_repled.schemas.range),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.string_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.string_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.string_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"map","map",1371690461),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"result","result",1415092211),cljs.core.any_QMARK_], null)], null)),malli.core.schema.cljs$core$IFn$_invoke$arity$1(duck_repled.schemas.contents),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.string_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(duck_repled.schemas.contents),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.string_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"map","map",1371690461),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"error","error",-978969032),cljs.core.any_QMARK_], null)], null)),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.keyword_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.int_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.int_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.any_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.simple_symbol_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.keyword_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(duck_repled.schemas.contents),malli.core.schema.cljs$core$IFn$_invoke$arity$1(duck_repled.schemas.top_blocks),malli.core.schema.cljs$core$IFn$_invoke$arity$1(duck_repled.schemas.contents),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.string_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.int_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(duck_repled.schemas.contents),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.any_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.string_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.qualified_symbol_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(duck_repled.schemas.contents),malli.core.schema.cljs$core$IFn$_invoke$arity$1(duck_repled.schemas.contents),malli.core.schema.cljs$core$IFn$_invoke$arity$1(duck_repled.schemas.editor_data),malli.core.schema.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"vector","vector",1902966158),cljs.core.string_QMARK_], null)),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.string_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(duck_repled.schemas.contents),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.boolean_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"enum","enum",1679018432),new cljs.core.Keyword(null,"clj","clj",-660495428),new cljs.core.Keyword(null,"cljs","cljs",1492417629),new cljs.core.Keyword(null,"prefer-clj","prefer-clj",-124166522),new cljs.core.Keyword(null,"prefer-cljs","prefer-cljs",1599484843)], null)),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.any_QMARK_),malli.core.schema.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"map","map",1371690461),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"clj","clj",-660495428),cljs.core.any_QMARK_], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"cljs","cljs",1492417629),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"optional","optional",2053951509),true], null),cljs.core.any_QMARK_], null)], null)),malli.core.schema.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"vector","vector",1902966158),cljs.core.string_QMARK_], null)),malli.core.schema.cljs$core$IFn$_invoke$arity$1(cljs.core.any_QMARK_),new cljs.core.Keyword(null,"map","map",1371690461).cljs$core$IFn$_invoke$arity$1(malli.core.base_schemas())]);
duck_repled.schemas.explainer = cljs.core.memoize((function (schemas){
var mapped = cljs.core.apply.cljs$core$IFn$_invoke$arity$3(cljs.core.vector,new cljs.core.Keyword(null,"map","map",1371690461),schemas);
return malli.core.explainer.cljs$core$IFn$_invoke$arity$2(mapped,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"registry","registry",1021159018),duck_repled.schemas.registry], null));
}));
duck_repled.schemas.registry_keys = cljs.core.set(cljs.core.keys(duck_repled.schemas.registry));
duck_repled.schemas.validate_BANG_ = (function duck_repled$schemas$validate_BANG_(var_args){
var G__85595 = arguments.length;
switch (G__85595) {
case 2:
return duck_repled.schemas.validate_BANG_.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));

break;
case 3:
return duck_repled.schemas.validate_BANG_.cljs$core$IFn$_invoke$arity$3((arguments[(0)]),(arguments[(1)]),(arguments[(2)]));

break;
default:
throw (new Error(["Invalid arity: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));

}
});

(duck_repled.schemas.validate_BANG_.cljs$core$IFn$_invoke$arity$2 = (function (schemas,value){
return duck_repled.schemas.validate_BANG_.cljs$core$IFn$_invoke$arity$3(schemas,value,"Value does not match schema: ");
}));

(duck_repled.schemas.validate_BANG_.cljs$core$IFn$_invoke$arity$3 = (function (schemas,value,explanation){
var schemas__$1 = cljs.core.filter.cljs$core$IFn$_invoke$arity$2(duck_repled.schemas.registry_keys,schemas);
var explain = duck_repled.schemas.explainer(schemas__$1);
var exp_error = (explain.cljs$core$IFn$_invoke$arity$1 ? explain.cljs$core$IFn$_invoke$arity$1(value) : explain.call(null,value));
var exp = malli.error.humanize.cljs$core$IFn$_invoke$arity$1(exp_error);
if(cljs.core.truth_(exp)){
throw cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2([cljs.core.str.cljs$core$IFn$_invoke$arity$1(explanation),cljs.core.str.cljs$core$IFn$_invoke$arity$1(exp)].join(''),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"human-error","human-error",-8397813),exp,new cljs.core.Keyword(null,"details","details",1956795411),exp_error], null));
} else {
}

return value;
}));

(duck_repled.schemas.validate_BANG_.cljs$lang$maxFixedArity = 3);

duck_repled.schemas.explain_add_resolver = cljs.core.comp.cljs$core$IFn$_invoke$arity$2(malli.error.humanize,malli.core.explainer.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"map","map",1371690461),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"closed","closed",-919675359),true], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"inputs","inputs",865803858),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"vector","vector",1902966158),cljs.core.any_QMARK_], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"outputs","outputs",-1896513034),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"vector","vector",1902966158),cljs.core.any_QMARK_], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"priority","priority",1431093715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"optional","optional",2053951509),true], null),cljs.core.number_QMARK_], null)], null)));

//# sourceMappingURL=duck_repled.schemas.js.map
