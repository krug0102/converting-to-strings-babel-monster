goog.provide('com.wsscode.pathom3.connect.indexes');
cljs.spec.alpha.def_impl(new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","indexes","com.wsscode.pathom3.connect.indexes/indexes",-1732299100),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null)),cljs.spec.alpha.map_spec_impl(cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[null,null,null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__82154){
return cljs.core.map_QMARK_(G__82154);
})], null),(function (G__82154){
return cljs.core.map_QMARK_(G__82154);
}),cljs.core.PersistentVector.EMPTY,cljs.core.PersistentVector.EMPTY,null,cljs.core.PersistentVector.EMPTY,cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null)))], null),null])));
cljs.spec.alpha.def_impl(new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-attributes","com.wsscode.pathom3.connect.indexes/index-attributes",-711449838),new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),cljs.core.map_QMARK_);
cljs.spec.alpha.def_impl(new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-resolvers","com.wsscode.pathom3.connect.indexes/index-resolvers",-848370553),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","map-of","cljs.spec.alpha/map-of",153715093,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","resolver","com.wsscode.pathom3.connect.operation/resolver",380611107)),cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","tuple","cljs.spec.alpha/tuple",-415901908,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","resolver","com.wsscode.pathom3.connect.operation/resolver",380611107)),cljs.spec.alpha.tuple_impl.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","resolver","com.wsscode.pathom3.connect.operation/resolver",380611107)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","resolver","com.wsscode.pathom3.connect.operation/resolver",380611107)], null)),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"into","into",-150836029),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Keyword("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),(function (G__82156){
return cljs.core.map_QMARK_(G__82156);
}),new cljs.core.Keyword(null,"kind","kind",-717265803),cljs.core.map_QMARK_,new cljs.core.Keyword("cljs.spec.alpha","kfn","cljs.spec.alpha/kfn",672643897),(function (i__11949__auto__,v__11950__auto__){
return cljs.core.nth.cljs$core$IFn$_invoke$arity$2(v__11950__auto__,(0));
}),new cljs.core.Keyword("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),true,new cljs.core.Keyword("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","map-of","cljs.spec.alpha/map-of",153715093,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","resolver","com.wsscode.pathom3.connect.operation/resolver",380611107))], null),null));
cljs.spec.alpha.def_impl(new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-mutations","com.wsscode.pathom3.connect.indexes/index-mutations",24467175),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","map-of","cljs.spec.alpha/map-of",153715093,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","mutation","com.wsscode.pathom3.connect.operation/mutation",2085009056)),cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","tuple","cljs.spec.alpha/tuple",-415901908,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","mutation","com.wsscode.pathom3.connect.operation/mutation",2085009056)),cljs.spec.alpha.tuple_impl.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","mutation","com.wsscode.pathom3.connect.operation/mutation",2085009056)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","mutation","com.wsscode.pathom3.connect.operation/mutation",2085009056)], null)),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"into","into",-150836029),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Keyword("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),(function (G__82169){
return cljs.core.map_QMARK_(G__82169);
}),new cljs.core.Keyword(null,"kind","kind",-717265803),cljs.core.map_QMARK_,new cljs.core.Keyword("cljs.spec.alpha","kfn","cljs.spec.alpha/kfn",672643897),(function (i__11949__auto__,v__11950__auto__){
return cljs.core.nth.cljs$core$IFn$_invoke$arity$2(v__11950__auto__,(0));
}),new cljs.core.Keyword("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),true,new cljs.core.Keyword("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","map-of","cljs.spec.alpha/map-of",153715093,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","mutation","com.wsscode.pathom3.connect.operation/mutation",2085009056))], null),null));
cljs.spec.alpha.def_impl(new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-oir","com.wsscode.pathom3.connect.indexes/index-oir",-418434909),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","map-of","cljs.spec.alpha/map-of",153715093,null),new cljs.core.Keyword("com.wsscode.pathom3.attribute","attribute","com.wsscode.pathom3.attribute/attribute",1003469786),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","map-of","cljs.spec.alpha/map-of",153715093,null),new cljs.core.Keyword("com.wsscode.pathom3.format.shape-descriptor","shape-descriptor","com.wsscode.pathom3.format.shape-descriptor/shape-descriptor",1733631433),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword(null,"kind","kind",-717265803),new cljs.core.Symbol("cljs.core","set?","cljs.core/set?",-1176684971,null)))),cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","tuple","cljs.spec.alpha/tuple",-415901908,null),new cljs.core.Keyword("com.wsscode.pathom3.attribute","attribute","com.wsscode.pathom3.attribute/attribute",1003469786),cljs.core.list(new cljs.core.Symbol("s","map-of","s/map-of",-1464752791,null),new cljs.core.Keyword("com.wsscode.pathom3.format.shape-descriptor","shape-descriptor","com.wsscode.pathom3.format.shape-descriptor/shape-descriptor",1733631433),cljs.core.list(new cljs.core.Symbol("s","coll-of","s/coll-of",-1705285349,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword(null,"kind","kind",-717265803),new cljs.core.Symbol(null,"set?","set?",1636014792,null)))),cljs.spec.alpha.tuple_impl.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("com.wsscode.pathom3.attribute","attribute","com.wsscode.pathom3.attribute/attribute",1003469786),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","map-of","cljs.spec.alpha/map-of",153715093,null),new cljs.core.Keyword("com.wsscode.pathom3.format.shape-descriptor","shape-descriptor","com.wsscode.pathom3.format.shape-descriptor/shape-descriptor",1733631433),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword(null,"kind","kind",-717265803),new cljs.core.Symbol("cljs.core","set?","cljs.core/set?",-1176684971,null)))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("com.wsscode.pathom3.attribute","attribute","com.wsscode.pathom3.attribute/attribute",1003469786),cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","tuple","cljs.spec.alpha/tuple",-415901908,null),new cljs.core.Keyword("com.wsscode.pathom3.format.shape-descriptor","shape-descriptor","com.wsscode.pathom3.format.shape-descriptor/shape-descriptor",1733631433),cljs.core.list(new cljs.core.Symbol("s","coll-of","s/coll-of",-1705285349,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword(null,"kind","kind",-717265803),new cljs.core.Symbol(null,"set?","set?",1636014792,null))),cljs.spec.alpha.tuple_impl.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("com.wsscode.pathom3.format.shape-descriptor","shape-descriptor","com.wsscode.pathom3.format.shape-descriptor/shape-descriptor",1733631433),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword(null,"kind","kind",-717265803),new cljs.core.Symbol("cljs.core","set?","cljs.core/set?",-1176684971,null))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("com.wsscode.pathom3.format.shape-descriptor","shape-descriptor","com.wsscode.pathom3.format.shape-descriptor/shape-descriptor",1733631433),cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),new cljs.core.Symbol("cljs.core","set?","cljs.core/set?",-1176684971,null),new cljs.core.Keyword("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),(function (G__82186){
return cljs.core.set_QMARK_(G__82186);
}),new cljs.core.Keyword(null,"kind","kind",-717265803),cljs.core.set_QMARK_,new cljs.core.Keyword("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),true,new cljs.core.Keyword("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword(null,"kind","kind",-717265803),new cljs.core.Symbol("cljs.core","set?","cljs.core/set?",-1176684971,null))], null),null)], null)),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"into","into",-150836029),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Keyword("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),(function (G__82183){
return cljs.core.map_QMARK_(G__82183);
}),new cljs.core.Keyword(null,"kind","kind",-717265803),cljs.core.map_QMARK_,new cljs.core.Keyword("cljs.spec.alpha","kfn","cljs.spec.alpha/kfn",672643897),(function (i__11949__auto__,v__11950__auto__){
return cljs.core.nth.cljs$core$IFn$_invoke$arity$2(v__11950__auto__,(0));
}),new cljs.core.Keyword("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),true,new cljs.core.Keyword("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","map-of","cljs.spec.alpha/map-of",153715093,null),new cljs.core.Keyword("com.wsscode.pathom3.format.shape-descriptor","shape-descriptor","com.wsscode.pathom3.format.shape-descriptor/shape-descriptor",1733631433),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword(null,"kind","kind",-717265803),new cljs.core.Symbol("cljs.core","set?","cljs.core/set?",-1176684971,null)))], null),null)], null)),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"into","into",-150836029),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Keyword("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),(function (G__82179){
return cljs.core.map_QMARK_(G__82179);
}),new cljs.core.Keyword(null,"kind","kind",-717265803),cljs.core.map_QMARK_,new cljs.core.Keyword("cljs.spec.alpha","kfn","cljs.spec.alpha/kfn",672643897),(function (i__11949__auto__,v__11950__auto__){
return cljs.core.nth.cljs$core$IFn$_invoke$arity$2(v__11950__auto__,(0));
}),new cljs.core.Keyword("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),true,new cljs.core.Keyword("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","map-of","cljs.spec.alpha/map-of",153715093,null),new cljs.core.Keyword("com.wsscode.pathom3.attribute","attribute","com.wsscode.pathom3.attribute/attribute",1003469786),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","map-of","cljs.spec.alpha/map-of",153715093,null),new cljs.core.Keyword("com.wsscode.pathom3.format.shape-descriptor","shape-descriptor","com.wsscode.pathom3.format.shape-descriptor/shape-descriptor",1733631433),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword(null,"kind","kind",-717265803),new cljs.core.Symbol("cljs.core","set?","cljs.core/set?",-1176684971,null))))], null),null));
cljs.spec.alpha.def_impl(new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-io","com.wsscode.pathom3.connect.indexes/index-io",-1535152042),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","map-of","cljs.spec.alpha/map-of",153715093,null),new cljs.core.Keyword("com.wsscode.pathom3.attribute","attributes-set","com.wsscode.pathom3.attribute/attributes-set",-1031622660),new cljs.core.Keyword("com.wsscode.pathom3.format.shape-descriptor","shape-descriptor","com.wsscode.pathom3.format.shape-descriptor/shape-descriptor",1733631433)),cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","tuple","cljs.spec.alpha/tuple",-415901908,null),new cljs.core.Keyword("com.wsscode.pathom3.attribute","attributes-set","com.wsscode.pathom3.attribute/attributes-set",-1031622660),new cljs.core.Keyword("com.wsscode.pathom3.format.shape-descriptor","shape-descriptor","com.wsscode.pathom3.format.shape-descriptor/shape-descriptor",1733631433)),cljs.spec.alpha.tuple_impl.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("com.wsscode.pathom3.attribute","attributes-set","com.wsscode.pathom3.attribute/attributes-set",-1031622660),new cljs.core.Keyword("com.wsscode.pathom3.format.shape-descriptor","shape-descriptor","com.wsscode.pathom3.format.shape-descriptor/shape-descriptor",1733631433)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("com.wsscode.pathom3.attribute","attributes-set","com.wsscode.pathom3.attribute/attributes-set",-1031622660),new cljs.core.Keyword("com.wsscode.pathom3.format.shape-descriptor","shape-descriptor","com.wsscode.pathom3.format.shape-descriptor/shape-descriptor",1733631433)], null)),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"into","into",-150836029),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Keyword("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),(function (G__82188){
return cljs.core.map_QMARK_(G__82188);
}),new cljs.core.Keyword(null,"kind","kind",-717265803),cljs.core.map_QMARK_,new cljs.core.Keyword("cljs.spec.alpha","kfn","cljs.spec.alpha/kfn",672643897),(function (i__11949__auto__,v__11950__auto__){
return cljs.core.nth.cljs$core$IFn$_invoke$arity$2(v__11950__auto__,(0));
}),new cljs.core.Keyword("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),true,new cljs.core.Keyword("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","map-of","cljs.spec.alpha/map-of",153715093,null),new cljs.core.Keyword("com.wsscode.pathom3.attribute","attributes-set","com.wsscode.pathom3.attribute/attributes-set",-1031622660),new cljs.core.Keyword("com.wsscode.pathom3.format.shape-descriptor","shape-descriptor","com.wsscode.pathom3.format.shape-descriptor/shape-descriptor",1733631433))], null),null));
cljs.spec.alpha.def_impl(new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","operations","com.wsscode.pathom3.connect.indexes/operations",-1591274702),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","or","cljs.spec.alpha/or",-831679639,null),new cljs.core.Keyword(null,"single","single",1551466437),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","operation","com.wsscode.pathom3.connect.operation/operation",874578684),new cljs.core.Keyword(null,"indexes","indexes",1496475545),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","indexes","com.wsscode.pathom3.connect.indexes/indexes",-1732299100),new cljs.core.Keyword(null,"many","many",1092119164),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","operations","com.wsscode.pathom3.connect.indexes/operations",-1591274702))),cljs.spec.alpha.or_spec_impl(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"single","single",1551466437),new cljs.core.Keyword(null,"indexes","indexes",1496475545),new cljs.core.Keyword(null,"many","many",1092119164)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","operation","com.wsscode.pathom3.connect.operation/operation",874578684),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","indexes","com.wsscode.pathom3.connect.indexes/indexes",-1732299100),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","operations","com.wsscode.pathom3.connect.indexes/operations",-1591274702))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","operation","com.wsscode.pathom3.connect.operation/operation",874578684),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","indexes","com.wsscode.pathom3.connect.indexes/indexes",-1732299100),cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","operations","com.wsscode.pathom3.connect.indexes/operations",-1591274702),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","operations","com.wsscode.pathom3.connect.indexes/operations",-1591274702),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),null,new cljs.core.Keyword("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),(function (G__82203){
return cljs.core.coll_QMARK_(G__82203);
}),new cljs.core.Keyword("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),true,new cljs.core.Keyword("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","operations","com.wsscode.pathom3.connect.indexes/operations",-1591274702))], null),null)], null),null));
com.wsscode.pathom3.connect.indexes.op_set = cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),new cljs.core.Symbol("cljs.core","set?","cljs.core/set?",-1176684971,null),new cljs.core.Keyword("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),(function (G__82208){
return cljs.core.set_QMARK_(G__82208);
}),new cljs.core.Keyword(null,"kind","kind",-717265803),cljs.core.set_QMARK_,new cljs.core.Keyword("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),true,new cljs.core.Keyword("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049),new cljs.core.Keyword(null,"kind","kind",-717265803),new cljs.core.Symbol("cljs.core","set?","cljs.core/set?",-1176684971,null))], null),null);
cljs.spec.alpha.def_impl(new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-id","com.wsscode.pathom3.connect.indexes/attr-id",-1508656158),new cljs.core.Keyword("com.wsscode.pathom3.attribute","attribute","com.wsscode.pathom3.attribute/attribute",1003469786),new cljs.core.Keyword("com.wsscode.pathom3.attribute","attribute","com.wsscode.pathom3.attribute/attribute",1003469786));
cljs.spec.alpha.def_impl(new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-combinations","com.wsscode.pathom3.connect.indexes/attr-combinations",1300944473),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","input","com.wsscode.pathom3.connect.operation/input",-1553849497),new cljs.core.Keyword(null,"kind","kind",-717265803),new cljs.core.Symbol("cljs.core","set?","cljs.core/set?",-1176684971,null)),cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","input","com.wsscode.pathom3.connect.operation/input",-1553849497),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","input","com.wsscode.pathom3.connect.operation/input",-1553849497),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),new cljs.core.Symbol("cljs.core","set?","cljs.core/set?",-1176684971,null),new cljs.core.Keyword("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),(function (G__82214){
return cljs.core.set_QMARK_(G__82214);
}),new cljs.core.Keyword(null,"kind","kind",-717265803),cljs.core.set_QMARK_,new cljs.core.Keyword("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),true,new cljs.core.Keyword("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","input","com.wsscode.pathom3.connect.operation/input",-1553849497),new cljs.core.Keyword(null,"kind","kind",-717265803),new cljs.core.Symbol("cljs.core","set?","cljs.core/set?",-1176684971,null))], null),null));
cljs.spec.alpha.def_impl(new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-input-in","com.wsscode.pathom3.connect.indexes/attr-input-in",-354683516),new cljs.core.Symbol("com.wsscode.pathom3.connect.indexes","op-set","com.wsscode.pathom3.connect.indexes/op-set",67584702,null),com.wsscode.pathom3.connect.indexes.op_set);
cljs.spec.alpha.def_impl(new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-output-in","com.wsscode.pathom3.connect.indexes/attr-output-in",-2024181305),new cljs.core.Symbol("com.wsscode.pathom3.connect.indexes","op-set","com.wsscode.pathom3.connect.indexes/op-set",67584702,null),com.wsscode.pathom3.connect.indexes.op_set);
cljs.spec.alpha.def_impl(new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-mutation-output-in","com.wsscode.pathom3.connect.indexes/attr-mutation-output-in",-1783438378),new cljs.core.Symbol("com.wsscode.pathom3.connect.indexes","op-set","com.wsscode.pathom3.connect.indexes/op-set",67584702,null),com.wsscode.pathom3.connect.indexes.op_set);
cljs.spec.alpha.def_impl(new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-mutation-param-in","com.wsscode.pathom3.connect.indexes/attr-mutation-param-in",1156277282),new cljs.core.Symbol("com.wsscode.pathom3.connect.indexes","op-set","com.wsscode.pathom3.connect.indexes/op-set",67584702,null),com.wsscode.pathom3.connect.indexes.op_set);

/**
 * Merge ::index-oir maps.
 */
com.wsscode.pathom3.connect.indexes.merge_oir = (function com$wsscode$pathom3$connect$indexes$merge_oir(a,b){
return cljs.core.merge_with.cljs$core$IFn$_invoke$arity$variadic((function (p1__82215_SHARP_,p2__82216_SHARP_){
return cljs.core.merge_with.cljs$core$IFn$_invoke$arity$variadic(cljs.core.into,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([p1__82215_SHARP_,p2__82216_SHARP_], 0));
}),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([a,b], 0));
});
if((typeof com !== 'undefined') && (typeof com.wsscode !== 'undefined') && (typeof com.wsscode.pathom3 !== 'undefined') && (typeof com.wsscode.pathom3.connect !== 'undefined') && (typeof com.wsscode.pathom3.connect.indexes !== 'undefined') && (typeof com.wsscode.pathom3.connect.indexes.index_merger !== 'undefined')){
} else {
/**
 * This is an extensible gateway so you can define different strategies for merging different
 *   kinds of indexes.
 */
com.wsscode.pathom3.connect.indexes.index_merger = (function (){var method_table__4712__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var prefer_table__4713__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var method_cache__4714__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var cached_hierarchy__4715__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var hierarchy__4716__auto__ = cljs.core.get.cljs$core$IFn$_invoke$arity$3(cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",-1053470341),(function (){var fexpr__82218 = cljs.core.get_global_hierarchy;
return (fexpr__82218.cljs$core$IFn$_invoke$arity$0 ? fexpr__82218.cljs$core$IFn$_invoke$arity$0() : fexpr__82218.call(null));
})());
return (new cljs.core.MultiFn(cljs.core.symbol.cljs$core$IFn$_invoke$arity$2("com.wsscode.pathom3.connect.indexes","index-merger"),(function (k,_,___$1){
return k;
}),new cljs.core.Keyword(null,"default","default",-1987822328),hierarchy__4716__auto__,method_table__4712__auto__,prefer_table__4713__auto__,method_cache__4714__auto__,cached_hierarchy__4715__auto__));
})();
}
com.wsscode.pathom3.connect.indexes.index_merger.cljs$core$IMultiFn$_add_method$arity$3(null,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-resolvers","com.wsscode.pathom3.connect.indexes/index-resolvers",-848370553),(function (_,a,b){
return cljs.core.reduce_kv((function (m,k,v){
if((!(cljs.core.contains_QMARK_(m,k)))){
} else {
throw (new Error(["Assert failed: ",["Tried to register duplicated resolver: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(k)].join(''),"\n","(not (contains? m k))"].join('')));
}

return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,v);
}),a,b);
}));
com.wsscode.pathom3.connect.indexes.index_merger.cljs$core$IMultiFn$_add_method$arity$3(null,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-mutations","com.wsscode.pathom3.connect.indexes/index-mutations",24467175),(function (_,a,b){
return cljs.core.reduce_kv((function (m,k,v){
if((!(cljs.core.contains_QMARK_(m,k)))){
} else {
throw (new Error(["Assert failed: ",["Tried to register duplicated mutation: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(k)].join(''),"\n","(not (contains? m k))"].join('')));
}

return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(m,k,v);
}),a,b);
}));
com.wsscode.pathom3.connect.indexes.index_merger.cljs$core$IMultiFn$_add_method$arity$3(null,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-oir","com.wsscode.pathom3.connect.indexes/index-oir",-418434909),(function (_,a,b){
return com.wsscode.pathom3.connect.indexes.merge_oir(a,b);
}));
com.wsscode.pathom3.connect.indexes.index_merger.cljs$core$IMultiFn$_add_method$arity$3(null,new cljs.core.Keyword(null,"default","default",-1987822328),(function (_,a,b){
return com.wsscode.misc.coll.merge_grow.cljs$core$IFn$_invoke$arity$2(a,b);
}));
/**
 * Merge index ib in index ia.
 */
com.wsscode.pathom3.connect.indexes.merge_indexes = (function com$wsscode$pathom3$connect$indexes$merge_indexes(ia,ib){
return cljs.core.reduce_kv((function (idx,k,v){
if(cljs.core.contains_QMARK_(idx,k)){
return cljs.core.update.cljs$core$IFn$_invoke$arity$3(idx,k,(function (p1__82220_SHARP_){
return com.wsscode.pathom3.connect.indexes.index_merger.cljs$core$IFn$_invoke$arity$3(k,p1__82220_SHARP_,v);
}));
} else {
return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(idx,k,v);
}
}),ia,ib);
});
com.wsscode.pathom3.connect.indexes.input_set = (function com$wsscode$pathom3$connect$indexes$input_set(input){
return cljs.core.into.cljs$core$IFn$_invoke$arity$3(cljs.core.PersistentHashSet.EMPTY,cljs.core.map.cljs$core$IFn$_invoke$arity$1((function (attr){
if(cljs.core.map_QMARK_(attr)){
return com.wsscode.misc.coll.map_vals(com.wsscode.pathom3.connect.indexes.input_set,attr);
} else {
return attr;
}
})),input);
});
com.wsscode.pathom3.connect.indexes.index_attributes = (function com$wsscode$pathom3$connect$indexes$index_attributes(p__82225){
var map__82226 = p__82225;
var map__82226__$1 = cljs.core.__destructure_map(map__82226);
var op_name = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82226__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049));
var requires = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82226__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","requires","com.wsscode.pathom3.connect.operation/requires",926175715));
var provides = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82226__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","provides","com.wsscode.pathom3.connect.operation/provides",541419618));
var input = cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentHashSet.EMPTY,cljs.core.keys(requires));
var provides__$1 = cljs.core.remove.cljs$core$IFn$_invoke$arity$2((function (p1__82221_SHARP_){
return cljs.core.contains_QMARK_(input,p1__82221_SHARP_);
}),cljs.core.keys(provides));
var op_group = cljs.core.PersistentHashSet.createAsIfByAssoc([op_name]);
var attr_provides = cljs.core.zipmap(provides__$1,cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(op_group));
var input_count = cljs.core.count(input);
var _LT__GT_ = cljs.core.with_meta(cljs.core.PersistentArrayMap.EMPTY,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("com.wsscode.pathom3.connect.runner","map-container?","com.wsscode.pathom3.connect.runner/map-container?",905687545),true], null));
var _LT__GT___$1 = cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (idx,in_attr){
return cljs.core.update.cljs$core$IFn$_invoke$arity$4(idx,in_attr,cljs.core.partial.cljs$core$IFn$_invoke$arity$2(cljs.core.merge_with,com.wsscode.misc.coll.merge_grow),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-id","com.wsscode.pathom3.connect.indexes/attr-id",-1508656158),in_attr,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-provides","com.wsscode.pathom3.connect.indexes/attr-provides",-1360845181),attr_provides,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-input-in","com.wsscode.pathom3.connect.indexes/attr-input-in",-354683516),op_group], null));
}),_LT__GT_,(function (){var G__82230 = input_count;
switch (G__82230) {
case (0):
return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.PersistentHashSet.EMPTY], null);

break;
case (1):
return input;

break;
default:
return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [input], null);

}
})());
var _LT__GT___$2 = (((input_count > (1)))?cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (idx,in_attr){
return cljs.core.update.cljs$core$IFn$_invoke$arity$4(idx,in_attr,cljs.core.partial.cljs$core$IFn$_invoke$arity$2(cljs.core.merge_with,com.wsscode.misc.coll.merge_grow),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-id","com.wsscode.pathom3.connect.indexes/attr-id",-1508656158),in_attr,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-combinations","com.wsscode.pathom3.connect.indexes/attr-combinations",1300944473),cljs.core.PersistentHashSet.createAsIfByAssoc([input]),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-input-in","com.wsscode.pathom3.connect.indexes/attr-input-in",-354683516),op_group], null));
}),_LT__GT___$1,input):_LT__GT___$1);
return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (idx,out_attr){
if(cljs.core.vector_QMARK_(out_attr)){
return cljs.core.update.cljs$core$IFn$_invoke$arity$4(idx,cljs.core.peek(out_attr),cljs.core.partial.cljs$core$IFn$_invoke$arity$2(cljs.core.merge_with,com.wsscode.misc.coll.merge_grow),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-id","com.wsscode.pathom3.connect.indexes/attr-id",-1508656158),cljs.core.peek(out_attr),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-reach-via","com.wsscode.pathom3.connect.indexes/attr-reach-via",1180499290),cljs.core.PersistentArrayMap.createAsIfByAssoc([cljs.core.into.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [input], null),cljs.core.pop(out_attr)),op_group]),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-output-in","com.wsscode.pathom3.connect.indexes/attr-output-in",-2024181305),op_group], null));
} else {
return cljs.core.update.cljs$core$IFn$_invoke$arity$4(idx,out_attr,cljs.core.partial.cljs$core$IFn$_invoke$arity$2(cljs.core.merge_with,com.wsscode.misc.coll.merge_grow),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-id","com.wsscode.pathom3.connect.indexes/attr-id",-1508656158),out_attr,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-reach-via","com.wsscode.pathom3.connect.indexes/attr-reach-via",1180499290),cljs.core.PersistentArrayMap.createAsIfByAssoc([input,op_group]),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-output-in","com.wsscode.pathom3.connect.indexes/attr-output-in",-2024181305),op_group], null));
}
}),_LT__GT___$2,provides__$1);
});
/**
 * Low level function to add resolvers to the index. This function adds the resolver
 *   configuration to the index set, adds the resolver to the ::pc/index-resolvers, add
 *   the output to input index in the ::pc/index-oir and the reverse index for auto-complete
 *   to the index ::pc/index-io.
 */
com.wsscode.pathom3.connect.indexes.register_resolver = (function com$wsscode$pathom3$connect$indexes$register_resolver(indexes,resolver){
var map__82231 = com.wsscode.pathom3.connect.operation.operation_config(resolver);
var map__82231__$1 = cljs.core.__destructure_map(map__82231);
var op_config = map__82231__$1;
var op_name = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82231__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049));
var output = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82231__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","output","com.wsscode.pathom3.connect.operation/output",801488703));
var requires = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82231__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","requires","com.wsscode.pathom3.connect.operation/requires",926175715));
var input_SINGLEQUOTE_ = cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentHashSet.EMPTY,cljs.core.keys(requires));
var root_props = com.wsscode.pathom3.format.eql.query_root_properties(output);
if(((com.wsscode.pathom3.connect.indexes.resolver.cljs$core$IFn$_invoke$arity$2 ? com.wsscode.pathom3.connect.indexes.resolver.cljs$core$IFn$_invoke$arity$2(indexes,op_name) : com.wsscode.pathom3.connect.indexes.resolver.call(null,indexes,op_name)) == null)){
} else {
throw (new Error(["Assert failed: ",["Tried to register duplicated resolver: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(op_name)].join(''),"\n","(nil? (com.wsscode.pathom3.connect.indexes/resolver indexes op-name))"].join('')));
}

return com.wsscode.pathom3.connect.indexes.merge_indexes(indexes,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-resolvers","com.wsscode.pathom3.connect.indexes/index-resolvers",-848370553),cljs.core.with_meta(cljs.core.PersistentArrayMap.createAsIfByAssoc([op_name,resolver]),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("com.wsscode.pathom3.connect.runner","map-container?","com.wsscode.pathom3.connect.runner/map-container?",905687545),true], null)),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-attributes","com.wsscode.pathom3.connect.indexes/index-attributes",-711449838),com.wsscode.pathom3.connect.indexes.index_attributes(op_config),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-io","com.wsscode.pathom3.connect.indexes/index-io",-1535152042),cljs.core.PersistentArrayMap.createAsIfByAssoc([input_SINGLEQUOTE_,com.wsscode.pathom3.format.shape_descriptor.query__GT_shape_descriptor(output)]),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-oir","com.wsscode.pathom3.connect.indexes/index-oir",-418434909),cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (indexes__$1,out_attr){
var G__82232 = indexes__$1;
if((!(cljs.core.contains_QMARK_(requires,out_attr)))){
return cljs.core.update_in.cljs$core$IFn$_invoke$arity$4(G__82232,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [out_attr,requires], null),com.wsscode.misc.coll.sconj,op_name);
} else {
return G__82232;
}
}),cljs.core.PersistentArrayMap.EMPTY,root_props)], null));
});
/**
 * Low level function to add a mutation to the index. For mutations, the index-mutations
 *   and the index-attributes are affected.
 */
com.wsscode.pathom3.connect.indexes.register_mutation = (function com$wsscode$pathom3$connect$indexes$register_mutation(indexes,mutation){
var map__82233 = com.wsscode.pathom3.connect.operation.operation_config(mutation);
var map__82233__$1 = cljs.core.__destructure_map(map__82233);
var op_name = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82233__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","op-name","com.wsscode.pathom3.connect.operation/op-name",-1249801049));
var params = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82233__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","params","com.wsscode.pathom3.connect.operation/params",-1389779339));
var output = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82233__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","output","com.wsscode.pathom3.connect.operation/output",801488703));
if(((com.wsscode.pathom3.connect.indexes.mutation.cljs$core$IFn$_invoke$arity$2 ? com.wsscode.pathom3.connect.indexes.mutation.cljs$core$IFn$_invoke$arity$2(indexes,op_name) : com.wsscode.pathom3.connect.indexes.mutation.call(null,indexes,op_name)) == null)){
} else {
throw (new Error(["Assert failed: ",["Tried to register duplicated mutation: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(op_name)].join(''),"\n","(nil? (com.wsscode.pathom3.connect.indexes/mutation indexes op-name))"].join('')));
}

return com.wsscode.pathom3.connect.indexes.merge_indexes(indexes,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-mutations","com.wsscode.pathom3.connect.indexes/index-mutations",24467175),cljs.core.with_meta(cljs.core.PersistentArrayMap.createAsIfByAssoc([op_name,mutation]),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("com.wsscode.pathom3.connect.runner","map-container?","com.wsscode.pathom3.connect.runner/map-container?",905687545),true], null)),new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-attributes","com.wsscode.pathom3.connect.indexes/index-attributes",-711449838),(function (){var _LT__GT_ = cljs.core.PersistentArrayMap.EMPTY;
var _LT__GT___$1 = cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (idx,attribute){
return cljs.core.update.cljs$core$IFn$_invoke$arity$4(idx,attribute,cljs.core.partial.cljs$core$IFn$_invoke$arity$2(cljs.core.merge_with,com.wsscode.misc.coll.merge_grow),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-id","com.wsscode.pathom3.connect.indexes/attr-id",-1508656158),attribute,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-mutation-param-in","com.wsscode.pathom3.connect.indexes/attr-mutation-param-in",1156277282),cljs.core.PersistentHashSet.createAsIfByAssoc([op_name])], null));
}),_LT__GT_,(function (){var G__82234 = params;
if((G__82234 == null)){
return null;
} else {
return com.wsscode.pathom3.format.eql.query_root_properties(G__82234);
}
})());
return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (idx,attribute){
return cljs.core.update.cljs$core$IFn$_invoke$arity$4(idx,attribute,cljs.core.partial.cljs$core$IFn$_invoke$arity$2(cljs.core.merge_with,com.wsscode.misc.coll.merge_grow),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-id","com.wsscode.pathom3.connect.indexes/attr-id",-1508656158),attribute,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-mutation-output-in","com.wsscode.pathom3.connect.indexes/attr-mutation-output-in",-1783438378),cljs.core.PersistentHashSet.createAsIfByAssoc([op_name])], null));
}),_LT__GT___$1,(function (){var G__82235 = output;
if((G__82235 == null)){
return null;
} else {
return com.wsscode.pathom3.format.eql.query_root_properties(G__82235);
}
})());
})()], null));
});
com.wsscode.pathom3.connect.indexes.resolver = (function com$wsscode$pathom3$connect$indexes$resolver(p__82236,resolver_name){
var map__82237 = p__82236;
var map__82237__$1 = cljs.core.__destructure_map(map__82237);
var index_resolvers = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82237__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-resolvers","com.wsscode.pathom3.connect.indexes/index-resolvers",-848370553));
return cljs.core.get.cljs$core$IFn$_invoke$arity$2(index_resolvers,resolver_name);
});
/**
 * Given a indexes map and a resolver sym, returns the resolver configuration map.
 */
com.wsscode.pathom3.connect.indexes.resolver_config = (function com$wsscode$pathom3$connect$indexes$resolver_config(p__82238,resolver_name){
var map__82239 = p__82238;
var map__82239__$1 = cljs.core.__destructure_map(map__82239);
var index_resolvers = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82239__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-resolvers","com.wsscode.pathom3.connect.indexes/index-resolvers",-848370553));
var G__82240 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(index_resolvers,resolver_name);
if((G__82240 == null)){
return null;
} else {
return com.wsscode.pathom3.connect.operation.operation_config(G__82240);
}
});
/**
 * Get the resolver provides from the resolver configuration map
 */
com.wsscode.pathom3.connect.indexes.resolver_provides = (function com$wsscode$pathom3$connect$indexes$resolver_provides(env,resolver_sym){
return new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","provides","com.wsscode.pathom3.connect.operation/provides",541419618).cljs$core$IFn$_invoke$arity$1(com.wsscode.pathom3.connect.indexes.resolver_config(env,resolver_sym));
});
/**
 * Get the resolver provides from the resolver configuration map
 */
com.wsscode.pathom3.connect.indexes.resolver_optionals = (function com$wsscode$pathom3$connect$indexes$resolver_optionals(env,resolver_sym){
return new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","optionals","com.wsscode.pathom3.connect.operation/optionals",1880951663).cljs$core$IFn$_invoke$arity$1(com.wsscode.pathom3.connect.indexes.resolver_config(env,resolver_sym));
});
com.wsscode.pathom3.connect.indexes.dynamic_resolver_QMARK_ = (function com$wsscode$pathom3$connect$indexes$dynamic_resolver_QMARK_(env,resolver_name){
return new cljs.core.Keyword("com.wsscode.pathom3.connect.operation","dynamic-resolver?","com.wsscode.pathom3.connect.operation/dynamic-resolver?",868139406).cljs$core$IFn$_invoke$arity$1(com.wsscode.pathom3.connect.indexes.resolver_config(env,resolver_name));
});
com.wsscode.pathom3.connect.indexes.mutation = (function com$wsscode$pathom3$connect$indexes$mutation(p__82241,mutation_name){
var map__82242 = p__82241;
var map__82242__$1 = cljs.core.__destructure_map(map__82242);
var index_mutations = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82242__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-mutations","com.wsscode.pathom3.connect.indexes/index-mutations",24467175));
return cljs.core.get.cljs$core$IFn$_invoke$arity$2(index_mutations,mutation_name);
});
/**
 * Given a indexes map and a mutation sym, returns the mutation configuration map.
 */
com.wsscode.pathom3.connect.indexes.mutation_config = (function com$wsscode$pathom3$connect$indexes$mutation_config(p__82243,mutation_name){
var map__82244 = p__82243;
var map__82244__$1 = cljs.core.__destructure_map(map__82244);
var index_mutations = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82244__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-mutations","com.wsscode.pathom3.connect.indexes/index-mutations",24467175));
var G__82245 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(index_mutations,mutation_name);
if((G__82245 == null)){
return null;
} else {
return com.wsscode.pathom3.connect.operation.operation_config(G__82245);
}
});
/**
 * Add an operation to the indexes. The operation can be either a Resolver or a Mutation.
 */
com.wsscode.pathom3.connect.indexes.register = (function com$wsscode$pathom3$connect$indexes$register(var_args){
var G__82247 = arguments.length;
switch (G__82247) {
case 1:
return com.wsscode.pathom3.connect.indexes.register.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));

break;
case 2:
return com.wsscode.pathom3.connect.indexes.register.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));

break;
default:
throw (new Error(["Invalid arity: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));

}
});

(com.wsscode.pathom3.connect.indexes.register.cljs$core$IFn$_invoke$arity$1 = (function (operation_or_operations){
return com.wsscode.pathom3.connect.indexes.register.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,operation_or_operations);
}));

(com.wsscode.pathom3.connect.indexes.register.cljs$core$IFn$_invoke$arity$2 = (function (indexes,operation_or_operations_or_indexes){
if(com.wsscode.pathom3.connect.operation.operation_QMARK_(operation_or_operations_or_indexes)){
var G__82248 = com.wsscode.pathom3.connect.operation.operation_type(operation_or_operations_or_indexes);
var G__82248__$1 = (((G__82248 instanceof cljs.core.Keyword))?G__82248.fqn:null);
switch (G__82248__$1) {
case "com.wsscode.pathom3.connect.operation/operation-type-resolver":
return com.wsscode.pathom3.connect.indexes.register_resolver(indexes,operation_or_operations_or_indexes);

break;
case "com.wsscode.pathom3.connect.operation/operation-type-mutation":
return com.wsscode.pathom3.connect.indexes.register_mutation(indexes,operation_or_operations_or_indexes);

break;
default:
throw (new Error(["No matching clause: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(G__82248__$1)].join('')));

}
} else {
if(cljs.core.sequential_QMARK_(operation_or_operations_or_indexes)){
return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(com.wsscode.pathom3.connect.indexes.register,indexes,operation_or_operations_or_indexes);
} else {
if(cljs.core.map_QMARK_(operation_or_operations_or_indexes)){
return com.wsscode.pathom3.connect.indexes.merge_indexes(indexes,operation_or_operations_or_indexes);
} else {
throw cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2("Invalid type to register",new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","operations","com.wsscode.pathom3.connect.indexes/operations",-1591274702),operation_or_operations_or_indexes], null));

}
}
}
}));

(com.wsscode.pathom3.connect.indexes.register.cljs$lang$maxFixedArity = 2);

/**
 * Check if some attribute is known in the index, this checks uses the index-oir.
 */
com.wsscode.pathom3.connect.indexes.attribute_available_QMARK_ = (function com$wsscode$pathom3$connect$indexes$attribute_available_QMARK_(p__82249,k){
var map__82250 = p__82249;
var map__82250__$1 = cljs.core.__destructure_map(map__82250);
var index_oir = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82250__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-oir","com.wsscode.pathom3.connect.indexes/index-oir",-418434909));
return cljs.core.contains_QMARK_(index_oir,k);
});
com.wsscode.pathom3.connect.indexes.reachable_attributes_STAR_ = (function com$wsscode$pathom3$connect$indexes$reachable_attributes_STAR_(p__82252,queue,attributes){
while(true){
var map__82253 = p__82252;
var map__82253__$1 = cljs.core.__destructure_map(map__82253);
var env = map__82253__$1;
var index_io = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82253__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-io","com.wsscode.pathom3.connect.indexes/index-io",-1535152042));
if(cljs.core.seq(queue)){
var vec__82254 = queue;
var seq__82255 = cljs.core.seq(vec__82254);
var first__82256 = cljs.core.first(seq__82255);
var seq__82255__$1 = cljs.core.next(seq__82255);
var attr = first__82256;
var rest = seq__82255__$1;
var attrs = cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2(attributes,attr);
var G__82313 = env;
var G__82314 = cljs.core.into.cljs$core$IFn$_invoke$arity$3(rest,cljs.core.remove.cljs$core$IFn$_invoke$arity$1(((function (p__82252,queue,attributes,vec__82254,seq__82255,first__82256,seq__82255__$1,attr,rest,attrs,map__82253,map__82253__$1,env,index_io){
return (function (p1__82251_SHARP_){
return cljs.core.contains_QMARK_(attrs,p1__82251_SHARP_);
});})(p__82252,queue,attributes,vec__82254,seq__82255,first__82256,seq__82255__$1,attr,rest,attrs,map__82253,map__82253__$1,env,index_io))
),cljs.core.keys(cljs.core.get.cljs$core$IFn$_invoke$arity$2(index_io,cljs.core.PersistentHashSet.createAsIfByAssoc([attr]))));
var G__82315 = attrs;
p__82252 = G__82313;
queue = G__82314;
attributes = G__82315;
continue;
} else {
return attributes;
}
break;
}
});
com.wsscode.pathom3.connect.indexes.reachable_attributes_for_groups_STAR_ = (function com$wsscode$pathom3$connect$indexes$reachable_attributes_for_groups_STAR_(p__82260,groups,attributes){
var map__82261 = p__82260;
var map__82261__$1 = cljs.core.__destructure_map(map__82261);
var index_io = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82261__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-io","com.wsscode.pathom3.connect.indexes/index-io",-1535152042));
return cljs.core.into.cljs$core$IFn$_invoke$arity$3(cljs.core.PersistentHashSet.EMPTY,cljs.core.comp.cljs$core$IFn$_invoke$arity$3(cljs.core.filter.cljs$core$IFn$_invoke$arity$1((function (p1__82257_SHARP_){
return cljs.core.every_QMARK_((function (x){
return cljs.core.contains_QMARK_(attributes,x);
}),p1__82257_SHARP_);
})),cljs.core.mapcat.cljs$core$IFn$_invoke$arity$1((function (p1__82258_SHARP_){
return cljs.core.keys(cljs.core.get.cljs$core$IFn$_invoke$arity$2(index_io,p1__82258_SHARP_));
})),cljs.core.remove.cljs$core$IFn$_invoke$arity$1((function (p1__82259_SHARP_){
return cljs.core.contains_QMARK_(attributes,p1__82259_SHARP_);
}))),groups);
});
com.wsscode.pathom3.connect.indexes.attrs_multi_deps = (function com$wsscode$pathom3$connect$indexes$attrs_multi_deps(p__82263,attrs){
var map__82264 = p__82263;
var map__82264__$1 = cljs.core.__destructure_map(map__82264);
var index_attributes = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82264__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-attributes","com.wsscode.pathom3.connect.indexes/index-attributes",-711449838));
return cljs.core.into.cljs$core$IFn$_invoke$arity$3(cljs.core.PersistentHashSet.EMPTY,cljs.core.mapcat.cljs$core$IFn$_invoke$arity$1((function (p1__82262_SHARP_){
return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(index_attributes,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [p1__82262_SHARP_,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","attr-combinations","com.wsscode.pathom3.connect.indexes/attr-combinations",1300944473)], null));
})),attrs);
});
/**
 * Discover which attributes are available, given an index and a data context.
 * 
 *   Also includes the attributes from available-data.
 */
com.wsscode.pathom3.connect.indexes.reachable_attributes = (function com$wsscode$pathom3$connect$indexes$reachable_attributes(p__82265,available_data){
var map__82266 = p__82265;
var map__82266__$1 = cljs.core.__destructure_map(map__82266);
var env = map__82266__$1;
var index_io = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82266__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-io","com.wsscode.pathom3.connect.indexes/index-io",-1535152042));
var queue = cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentHashSet.EMPTY,cljs.core.keys(cljs.core.get.cljs$core$IFn$_invoke$arity$2(index_io,cljs.core.PersistentHashSet.EMPTY))),cljs.core.keys(available_data));
var attrs = cljs.core.persistent_BANG_(com.wsscode.pathom3.connect.indexes.reachable_attributes_STAR_(env,queue,cljs.core.transient$(cljs.core.PersistentHashSet.EMPTY)));
var group_reaches = com.wsscode.pathom3.connect.indexes.reachable_attributes_for_groups_STAR_(env,com.wsscode.pathom3.connect.indexes.attrs_multi_deps(env,attrs),attrs);
while(true){
if(cljs.core.seq(group_reaches)){
var new_attrs = cljs.core.persistent_BANG_(com.wsscode.pathom3.connect.indexes.reachable_attributes_STAR_(env,group_reaches,cljs.core.transient$(attrs)));
var G__82335 = new_attrs;
var G__82336 = com.wsscode.pathom3.connect.indexes.reachable_attributes_for_groups_STAR_(env,com.wsscode.pathom3.connect.indexes.attrs_multi_deps(env,new_attrs),new_attrs);
attrs = G__82335;
group_reaches = G__82336;
continue;
} else {
return attrs;
}
break;
}
});
com.wsscode.pathom3.connect.indexes.reachable_paths_STAR_ = (function com$wsscode$pathom3$connect$indexes$reachable_paths_STAR_(p__82268,queue,paths){
while(true){
var map__82269 = p__82268;
var map__82269__$1 = cljs.core.__destructure_map(map__82269);
var env = map__82269__$1;
var index_io = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82269__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-io","com.wsscode.pathom3.connect.indexes/index-io",-1535152042));
if(cljs.core.seq(queue)){
var vec__82270 = queue;
var seq__82271 = cljs.core.seq(vec__82270);
var first__82272 = cljs.core.first(seq__82271);
var seq__82271__$1 = cljs.core.next(seq__82271);
var vec__82273 = first__82272;
var attr = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__82273,(0),null);
var sub = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__82273,(1),null);
var rest = seq__82271__$1;
var attrs = cljs.core.update.cljs$core$IFn$_invoke$arity$4(paths,attr,com.wsscode.pathom3.format.shape_descriptor.merge_shapes,sub);
var G__82346 = env;
var G__82347 = cljs.core.into.cljs$core$IFn$_invoke$arity$3(rest,cljs.core.remove.cljs$core$IFn$_invoke$arity$1(((function (p__82268,queue,paths,vec__82270,seq__82271,first__82272,seq__82271__$1,vec__82273,attr,sub,rest,attrs,map__82269,map__82269__$1,env,index_io){
return (function (p1__82267_SHARP_){
return cljs.core.contains_QMARK_(attrs,cljs.core.key(p1__82267_SHARP_));
});})(p__82268,queue,paths,vec__82270,seq__82271,first__82272,seq__82271__$1,vec__82273,attr,sub,rest,attrs,map__82269,map__82269__$1,env,index_io))
),cljs.core.get.cljs$core$IFn$_invoke$arity$2(index_io,cljs.core.PersistentHashSet.createAsIfByAssoc([attr])));
var G__82348 = attrs;
p__82268 = G__82346;
queue = G__82347;
paths = G__82348;
continue;
} else {
return paths;
}
break;
}
});
com.wsscode.pathom3.connect.indexes.reachable_paths_for_groups_STAR_ = (function com$wsscode$pathom3$connect$indexes$reachable_paths_for_groups_STAR_(p__82278,groups,attributes){
var map__82279 = p__82278;
var map__82279__$1 = cljs.core.__destructure_map(map__82279);
var index_io = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82279__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-io","com.wsscode.pathom3.connect.indexes/index-io",-1535152042));
return com.wsscode.misc.coll.remove_keys((function (p1__82277_SHARP_){
return cljs.core.contains_QMARK_(attributes,p1__82277_SHARP_);
}),cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (group,attr){
return com.wsscode.pathom3.format.shape_descriptor.merge_shapes.cljs$core$IFn$_invoke$arity$2(group,cljs.core.get.cljs$core$IFn$_invoke$arity$2(index_io,attr));
}),cljs.core.PersistentArrayMap.EMPTY,cljs.core.filterv((function (p1__82276_SHARP_){
return cljs.core.every_QMARK_((function (x){
return cljs.core.contains_QMARK_(attributes,x);
}),p1__82276_SHARP_);
}),groups)));
});
/**
 * Discover which paths are available, given an index and a data context.
 * 
 *   Also includes the attributes from available-data.
 */
com.wsscode.pathom3.connect.indexes.reachable_paths = (function com$wsscode$pathom3$connect$indexes$reachable_paths(p__82280,available_data){
var map__82281 = p__82280;
var map__82281__$1 = cljs.core.__destructure_map(map__82281);
var env = map__82281__$1;
var index_io = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__82281__$1,new cljs.core.Keyword("com.wsscode.pathom3.connect.indexes","index-io","com.wsscode.pathom3.connect.indexes/index-io",-1535152042));
var queue = com.wsscode.pathom3.format.shape_descriptor.merge_shapes.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(index_io,cljs.core.PersistentHashSet.EMPTY),available_data);
var paths = com.wsscode.pathom3.connect.indexes.reachable_paths_STAR_(env,queue,cljs.core.PersistentArrayMap.EMPTY);
var group_reaches = com.wsscode.pathom3.connect.indexes.reachable_paths_for_groups_STAR_(env,com.wsscode.pathom3.connect.indexes.attrs_multi_deps(env,cljs.core.keys(paths)),paths);
while(true){
if(cljs.core.seq(group_reaches)){
var new_attrs = com.wsscode.pathom3.connect.indexes.reachable_paths_STAR_(env,group_reaches,paths);
var G__82350 = new_attrs;
var G__82351 = com.wsscode.pathom3.connect.indexes.reachable_paths_for_groups_STAR_(env,com.wsscode.pathom3.connect.indexes.attrs_multi_deps(env,cljs.core.keys(new_attrs)),new_attrs);
paths = G__82350;
group_reaches = G__82351;
continue;
} else {
return paths;
}
break;
}
});
/**
 * Discover which attributes are available, given an index and a data context.
 */
com.wsscode.pathom3.connect.indexes.attribute_reachable_QMARK_ = (function com$wsscode$pathom3$connect$indexes$attribute_reachable_QMARK_(env,available_data,attr){
return cljs.core.contains_QMARK_(com.wsscode.pathom3.connect.indexes.reachable_attributes(env,available_data),attr);
});

//# sourceMappingURL=com.wsscode.pathom3.connect.indexes.js.map
