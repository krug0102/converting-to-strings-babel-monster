{"version":3,"sources":["sci/impl/types.cljc"],"mappings":"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","names":["sci$impl$types$IBox$setVal$dyn","x__4521__auto__","m__4522__auto__","sci.impl.types/setVal","goog/typeOf","m__4519__auto__","cljs.core/missing-protocol","sci$impl$types$IBox$getVal$dyn","sci.impl.types/getVal","sci.impl.types/IBox","_this","_v","cljs.core/PROTOCOL_SENTINEL","this__4461__auto__","writer__4462__auto__","opt__4463__auto__","cljs.core/-write","sci.impl.types/EvalVar","sci.impl.types/->EvalVar","v","this","sci$impl$types$IReified$getInterface$dyn","sci.impl.types/getInterface","sci$impl$types$IReified$getMethods$dyn","sci.impl.types/getMethods","sci.impl.types/IReified","_","sci.impl.types/Reified","sci.impl.types/->Reified","interface","meths","var_args","args__4835__auto__","len__4829__auto__","i__4830__auto__","argseq__4836__auto__","cljs.core/IndexedSeq","sci.impl.types/type-impl","seq154038","G__154039","cljs.core/first","cljs.core/next","self__4816__auto__","x","_xs","or__4223__auto__","G__154040","cljs.core/meta","cljs.core/type","sci.impl.types/instance-impl","clazz","and__4221__auto__","cljs.core/Symbol","m","cljs.core._EQ_","G__154041"],"sourcesContent":["(ns sci.impl.types\n  {:no-doc true})\n\n(defprotocol IBox\n  (setVal [_this _v])\n  (getVal [_this]))\n\n(deftype EvalVar [v]\n  IBox\n  (getVal [this] v))\n\n(defprotocol IReified\n  (getInterface [_])\n  (getMethods [_]))\n\n(deftype Reified [interface meths]\n  IReified\n  (getInterface [_] interface)\n  (getMethods [_] meths))\n\n(defn type-impl [x & _xs]\n  (or (when (instance? sci.impl.types.Reified x)\n        :sci.impl.protocols/reified)\n      (some-> x meta :sci.impl/type)\n      (type x)))\n\n(defn instance-impl [clazz x]\n  (if (and (symbol? clazz)\n           (let [m (meta clazz)]\n             (:sci.impl/record m)))\n    (= clazz (some-> x meta :sci.impl/type))\n    (instance? clazz x)))\n"]}