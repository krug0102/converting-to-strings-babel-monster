{"version":3,"sources":["shadow/cljs/devtools/client/node.cljs"],"mappings":"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","names":["p__145840","map__145842","cljs.core/--destructure-map","cljs.core.get","shadow.cljs.devtools.client.node/node-eval","js","source-map-json","msg","result","js/SHADOW_NODE_EVAL","shadow.cljs.devtools.client.node/is-loaded?","src","goog.object/get","js/SHADOW_IMPORTED","js/Error","shadow.cljs.devtools.client.node/closure-import","js/SHADOW_IMPORT","p__145853","map__145854","shadow.cljs.devtools.client.node/handle-build-complete","runtime","info","reload-info","map__145855","sources","compiled","warnings","shadow.cljs.devtools.client.env/autoload","cljs.core/empty?","shadow.cljs.devtools.client.env/ignore-warnings","files-to-require","cljs.core.remove","p__145859","map__145860","ns","cljs.core/contains?","cljs.core.filter","p__145857","map__145858","resource-id","cljs.core.map","cljs.core.into","cljs.core/seq","shadow.cljs.devtools.client.env.do_js_reload","seq__145861","chunk__145862","count__145863","i__145864","temp__5753__auto__","cljs.core/chunked-seq?","c__4649__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","cljs.core/first","cljs.core/next","shadow.cljs.devtools.client.env/before-load-src","shadow.cljs.devtools.client.node/client-info","js/process.version","shadow.cljs.devtools.client.node/start","ws-url","shadow.cljs.devtools.client.env/get-ws-relay-url","socket","js/shadow.js.shim.module$ws","ws-active-ref","cljs.core.atom","data","cljs.core/deref","shadow.cljs.devtools.client.shared/remote-msg","e","shadow.cljs.devtools.client.shared/remote-open","shadow.cljs.devtools.client.shared/remote-close","shadow.cljs.devtools.client.shared/remote-error","p__145866","map__145867","shadow.cljs.devtools.client.node/send","p__145868","map__145869","shadow.cljs.devtools.client.node/stop","cljs.core/reset!","shadow.cljs.devtools.client.env/worker-client-id","cljs.core/PROTOCOL_SENTINEL","shadow.cljs.devtools.client.shared/Runtime","this","code","p__145870","map__145871","repl-sources","done","error","e145872","seq__145873","chunk__145875","count__145876","i__145877","map__145885","map__145887","output-name","p__145891","map__145893","reload-namespaces","e145894","seq__145895","chunk__145896","count__145897","i__145898","map__145903","map__145906","provides","or__4223__auto__","cljs.core/some","shadow.cljs.devtools.client.shared/add-plugin!","p__145907","map__145908","env","svc","shadow.remote.runtime.api/add-extension","shadow.cljs.devtools.client.env/patch-goog!","shadow.cljs.devtools.client.env/log","js/console.log","js/console.warn","js/console.error","shadow.cljs.devtools.client.env/run-custom-notify!","cljs.core.assoc","shadow.cljs.devtools.client.env/add-warnings-to-info","p__145909","map__145910","event-op","client-id","cljs.core._EQ_","p__145911","map__145912","shadow.remote.runtime.api/del-extension","shadow.cljs.devtools.client.shared/init-runtime!"],"sourcesContent":["(ns shadow.cljs.devtools.client.node\n  (:require\n    [\"ws\" :as ws]\n    [cljs.reader :as reader]\n    [goog.object :as gobj]\n    [shadow.remote.runtime.shared :as shared]\n    [shadow.cljs.devtools.client.shared :as cljs-shared]\n    [shadow.cljs.devtools.client.env :as env]\n    [shadow.remote.runtime.api :as api]))\n\n(defn node-eval [{:keys [js source-map-json] :as msg}]\n  (let [result (js/SHADOW_NODE_EVAL js source-map-json)]\n    result))\n\n(defn is-loaded? [src]\n  (true? (gobj/get js/SHADOW_IMPORTED src)))\n\n(defn closure-import [src]\n  {:pre [(string? src)]}\n  (js/SHADOW_IMPORT src))\n\n(defn handle-build-complete\n  [runtime {:keys [info reload-info] :as msg}]\n  (let [{:keys [sources compiled warnings]} info]\n\n    (when (and env/autoload\n               (or (empty? warnings) env/ignore-warnings))\n\n      (let [files-to-require\n            (->> sources\n                 (remove (fn [{:keys [ns]}]\n                           (contains? (:never-load reload-info) ns)))\n                 (filter (fn [{:keys [ns resource-id]}]\n                           (or (contains? compiled resource-id)\n                               (contains? (:always-load reload-info) ns))))\n                 (map :output-name)\n                 (into []))]\n\n        (when (seq files-to-require)\n          (env/do-js-reload\n            msg\n            #(doseq [src files-to-require]\n               (env/before-load-src src)\n               (closure-import src))\n            ))))))\n\n(def client-info\n  {:host :node\n   :desc (str \"Node \" js/process.version)})\n\n(defn start [runtime]\n  (let [ws-url\n        (env/get-ws-relay-url)\n\n        socket\n        (ws. ws-url #js {:rejectUnauthorized false})\n\n        ws-active-ref\n        (atom true)]\n\n    (.on socket \"message\"\n      (fn [data]\n        (when @ws-active-ref\n          (cljs-shared/remote-msg runtime data))))\n\n    (.on socket \"open\"\n      (fn [e]\n        (when @ws-active-ref\n          (cljs-shared/remote-open runtime e))))\n\n    (.on socket \"close\"\n      (fn [e]\n        (when @ws-active-ref\n          (cljs-shared/remote-close runtime e ws-url))))\n\n    (.on socket \"error\"\n      (fn [e]\n        (when @ws-active-ref\n          (cljs-shared/remote-error runtime e))))\n\n    {:socket socket\n     :ws-active-ref ws-active-ref}))\n\n(defn send [{:keys [socket]} msg]\n  (.send socket msg))\n\n(defn stop [{:keys [socket ws-active-ref]}]\n  (reset! ws-active-ref false)\n  (.close socket))\n\n;; want things to start when this ns is in :preloads\n(when (pos? env/worker-client-id)\n\n  (extend-type cljs-shared/Runtime\n    api/IEvalJS\n    (-js-eval [this code]\n      (js/SHADOW_NODE_EVAL code))\n\n    cljs-shared/IHostSpecific\n    (do-invoke [this msg]\n      (node-eval msg))\n\n    (do-repl-init [runtime {:keys [repl-sources]} done error]\n      (try\n        (doseq [{:keys [output-name] :as src} repl-sources\n                :when (not (is-loaded? output-name))]\n          (closure-import output-name))\n\n        (done)\n        (catch :default e\n          (error e))))\n\n    (do-repl-require [this {:keys [sources reload-namespaces] :as msg} done error]\n      (try\n        (doseq [{:keys [provides output-name] :as src} sources]\n          (when (or (not (is-loaded? output-name))\n                    (some reload-namespaces provides))\n            (closure-import output-name)))\n\n        (done)\n        (catch :default e\n          (error e)))))\n\n  (cljs-shared/add-plugin! ::client #{}\n    (fn [{:keys [runtime] :as env}]\n      (let [svc {:runtime runtime}]\n        (api/add-extension runtime ::client\n          {:on-welcome\n           (fn []\n             ;; FIXME: why does this break stuff when done when the namespace is loaded?\n             ;; why does it have to wait until the websocket is connected?\n             (env/patch-goog!)\n             (when env/log\n               (js/console.log (str \"shadow-cljs - #\" (-> runtime :state-ref deref :client-id) \" ready!\"))))\n\n           :on-disconnect\n           (fn []\n             (js/console.warn \"The shadow-cljs Websocket was disconnected.\"))\n\n           :ops\n           {:access-denied\n            (fn [msg]\n              (js/console.error\n                (str \"Stale Output! Your loaded JS was not produced by the running shadow-cljs instance.\"\n                     \" Is the watch for this build running?\")))\n\n            :cljs-build-configure\n            (fn [msg])\n\n            :cljs-build-start\n            (fn [msg]\n              ;; (js/console.log \"cljs-build-start\" msg)\n              (env/run-custom-notify! (assoc msg :type :build-start)))\n\n            :cljs-build-complete\n            (fn [msg]\n              ;; (js/console.log \"cljs-build-complete\" msg)\n              (let [msg (env/add-warnings-to-info msg)]\n                (handle-build-complete runtime msg)\n                (env/run-custom-notify! (assoc msg :type :build-complete))))\n\n            :cljs-build-failure\n            (fn [msg]\n              ;; (js/console.log \"cljs-build-failure\" msg)\n              (env/run-custom-notify! (assoc msg :type :build-failure)))\n\n            ::env/worker-notify\n            (fn [{:keys [event-op client-id]}]\n              (cond\n                (and (= :client-disconnect event-op)\n                     (= client-id env/worker-client-id))\n                (js/console.warn \"shadow-cljs - The watch for this build was stopped!\")\n\n                (= :client-connect event-op)\n                (js/console.warn \"shadow-cljs - A new watch for this build was started, restart of this process required!\")\n\n                :else\n                nil))\n            }})\n        svc))\n\n    (fn [{:keys [runtime] :as svc}]\n      (api/del-extension runtime ::client)))\n\n  (cljs-shared/init-runtime! client-info start send stop))\n"]}